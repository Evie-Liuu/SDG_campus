import{r as a,o as V,n as z,a as E,c as M,b as s,d as l,e as W,f as B,F as m,g as _,w as C,h as N,i as F,v as I,T as $,j as A,k as n,l as G,t as p}from"./index-xTT_k9yA.js";const D=[{id:1,title:"讀經教育",time:"",type:"1",description:"全校讀論語 星期四讀經和鎮長。"},{id:2,title:"舞蹈社團",time:"",type:"1",description:"精彩的舞蹈表演，獲得滿堂彩。"},{id:3,title:"社區踏查",time:"",type:"2",description:""}],U={class:"text-xl bg-gray-300 grid grid-cols-1 gap-4 p-5 pt-20"},q={class:"md:max-w-5xl md:mx-auto flex flex-row justify-between items-center w-full"},H=["onClick"],J={key:0,class:"relative group flex-shrink-0"},K={class:"absolute top-8 left-1 bg-white shadow rounded hidden group-hover:block"},O=["onClick"],P={class:"p-4 flex flex-col justify-center"},Q={class:"text-xl font-bold mb-2"},R={class:"text-gray-600 text-sm"},Z={__name:"SDGs",setup(X){const h=a([{name:"全部",value:0},{name:"山野教育",value:1},{name:"社區踏查",value:2},{name:"國際交流",value:3},{name:"生態環境",value:4},{name:"文化藝術",value:5},{name:"科技創新",value:6},{name:"健康福祉",value:7},{name:"社會實踐",value:8}]),r=a(h.value[0].value),w=a(!1),u=a(""),d=a(null),x=a(null),g=a([]),b=a([]),k=()=>{if(!d.value||!x.value)return;const o=d.value.parentNode;if(!o)return;const e=o.clientWidth-x.value.offsetWidth-20,t=300;let i=0;const c=[],v=[],T=d.value.querySelectorAll("li:not(.relative)");if(T.forEach((f,S)=>{const y=h.value[S];if(!y)return;const j=f.offsetWidth;i+j<e-t?(i+=j,c.push(y)):v.push(y)}),v.length===1){const f=T[c.length];f&&i+f.offsetWidth<e&&c.push(v.shift())}g.value=c,b.value=v};V(()=>{g.value=[...h.value],z(()=>{k(),window.addEventListener("resize",k)})}),E(()=>{window.removeEventListener("resize",k)});const L=M(()=>{let o=D;return r.value!==0&&(o=D.filter(e=>e.type*1===r.value)),u.value.trim()!==""&&(o=o.filter(e=>e.title.toLowerCase().includes(u.value.trim().toLowerCase()))),o});return(o,e)=>(n(),s(m,null,[e[5]||(e[5]=l("header",{class:"flex flex-col items-center justify-center text-center pt-8 md:h-[35rem] bg-[url(@/assets/images/瓢蟲石頭.jpg)] bg-cover bg-center"},[l("h1",{class:"text-white text-5xl font-bold"},"中山SDGs記事")],-1)),l("main",U,[l("section",q,[l("ul",{ref_key:"tabContainer",ref:d,class:"w-full flex flex-row items-center gap-5 h-10 flex-grow"},[(n(!0),s(m,null,_(g.value,t=>(n(),s("li",{key:t.value,class:"flex-shrink-0 h-full flex items-center"},[l("a",{href:"",class:G([{active:r.value===t.value},"hover:bg-green-200 rounded p-2 px-3 whitespace-nowrap"]),onClick:C(i=>r.value=t.value,["prevent"])},p(t.name),11,H)]))),128)),b.value.length?(n(),s("li",J,[l("a",{href:"#",onClick:e[0]||(e[0]=C(()=>{},["prevent"])),class:"h-full cursor-pointer hover:bg-green-200 rounded p-2 px-3"},"更多 ▾"),l("ul",K,[(n(!0),s(m,null,_(b.value,t=>(n(),s("li",{key:t.value},[l("a",{href:"",class:"block px-4 py-2 bg-gray-100 hover:bg-green-200 whitespace-nowrap rounded",onClick:C(i=>r.value=t.value,["prevent"])},p(t.name),9,O)]))),128))])])):B("",!0)],512),l("div",{ref_key:"rightTools",ref:x,class:"flex items-center"},[l("button",{onClick:e[1]||(e[1]=t=>w.value=!w.value),class:"p-2"},[...e[3]||(e[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 104.5 4.5a7.5 7.5 0 0012.15 12.15z"})],-1)])]),W($,{name:"fade"},{default:N(()=>[w.value?F((n(),s("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),type:"text",placeholder:"搜尋...",class:"border rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-400 transition w-48"},null,512)),[[I,u.value]]):B("",!0)]),_:1})],512)]),(n(!0),s(m,null,_(L.value,t=>(n(),s("section",{class:"md:min-w-5xl md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex",key:t.id},[e[4]||(e[4]=l("img",{src:"https://via.placeholder.com/150",alt:"Card Image",class:"w-1/2 object-cover"},null,-1)),l("div",P,[l("h2",Q,p(t.title),1),l("p",R,p(t.description),1)])]))),128))]),W(A)],64))}};export{Z as default};
