import{r as o,o as E,n as N,a as z,c as F,b as a,d as l,e as D,f as _,F as h,g as T,w as p,h as I,i as M,v as A,T as G,j as U,u as q,k as n,l as H,t as g}from"./index-CZscSvoG.js";import{i as L}from"./ChungShan-BS_Pso0u.js";const R={class:"text-xl bg-gray-300 grid grid-cols-1 gap-4 p-5 pt-20"},J={class:"md:max-w-5xl md:mx-auto flex flex-row justify-between items-center w-full"},K=["onClick"],O={key:0,class:"relative group flex-shrink-0"},P={class:"absolute top-8 left-1 bg-white shadow rounded hidden group-hover:block"},Q=["onClick"],X=["onClick"],Y={class:"p-4 flex flex-col justify-center"},Z={class:"text-xl font-bold mb-2"},ee={class:"text-gray-600 text-sm"},ae={__name:"SDGs",setup(te){const x=o([{name:"全部",value:0},{name:"山野教育",value:1},{name:"社區踏查",value:2},{name:"國際交流",value:3},{name:"生態環境",value:4},{name:"文化藝術",value:5},{name:"科技創新",value:6},{name:"健康福祉",value:7},{name:"社會實踐",value:8}]),u=o(x.value[0].value),d=o(!1),r=o(""),c=o(null),w=o(null),b=o([]),k=o([]),y=()=>{if(!c.value||!w.value)return;const s=c.value.parentNode;if(!s)return;const e=s.clientWidth-w.value.offsetWidth-20,t=300;let i=0;const v=[],f=[],W=c.value.querySelectorAll("li:not(.relative)");if(W.forEach((m,B)=>{const C=x.value[B];if(!C)return;const j=m.offsetWidth;i+j<e-t?(i+=j,v.push(C)):f.push(C)}),f.length===1){const m=W[v.length];m&&i+m.offsetWidth<e&&v.push(f.shift())}b.value=v,k.value=f};E(()=>{b.value=[...x.value],N(()=>{y(),window.addEventListener("resize",y)})}),z(()=>{window.removeEventListener("resize",y)});const S=F(()=>{let s=L;return u.value!==0&&(s=L.filter(e=>e.type*1===u.value)),r.value.trim()!==""&&(s=s.filter(e=>e.title.toLowerCase().includes(r.value.trim().toLowerCase()))),s}),V=q(),$=s=>{V.push({name:"article-detail",params:{id:s}})};return(s,e)=>(n(),a(h,null,[e[7]||(e[7]=l("header",{class:"flex flex-col items-center justify-center text-center pt-8 md:h-[35rem] bg-[url(@/assets/images/瓢蟲石頭.jpg)] bg-cover bg-center"},[l("h1",{class:"text-white text-5xl font-bold"},"中山SDGs記事")],-1)),l("main",R,[l("section",J,[l("ul",{ref_key:"tabContainer",ref:c,class:"w-full flex flex-row items-center gap-5 h-10 flex-grow"},[(n(!0),a(h,null,T(b.value,t=>(n(),a("li",{key:t.value,class:"flex-shrink-0 h-full flex items-center"},[l("a",{href:"",class:H([{active:u.value===t.value},"hover:bg-green-200 rounded p-2 px-3 whitespace-nowrap"]),onClick:p(i=>u.value=t.value,["prevent"])},g(t.name),11,K)]))),128)),k.value.length?(n(),a("li",O,[l("a",{href:"#",onClick:e[0]||(e[0]=p(()=>{},["prevent"])),class:"h-full cursor-pointer hover:bg-green-200 rounded p-2 px-3"},"更多 ▾"),l("ul",P,[(n(!0),a(h,null,T(k.value,t=>(n(),a("li",{key:t.value},[l("a",{href:"",class:"block px-4 py-2 bg-gray-100 hover:bg-green-200 whitespace-nowrap rounded",onClick:p(i=>u.value=t.value,["prevent"])},g(t.name),9,Q)]))),128))])])):_("",!0)],512),l("div",{ref_key:"rightTools",ref:w,class:"relative flex items-center"},[l("button",{onClick:e[1]||(e[1]=t=>d.value=!d.value),class:"p-2"},[...e[4]||(e[4]=[l("i",{class:"fa-solid fa-magnifying-glass text-2xl"},null,-1)])]),D(G,{name:"fade"},{default:I(()=>[d.value?M((n(),a("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value=t),type:"text",placeholder:"搜尋...",class:"border rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-400 transition w-48"},null,512)),[[A,r.value]]):_("",!0)]),_:1}),d.value&r.value.length?(n(),a("a",{key:0,href:"#",class:"absolute right-2",onClick:e[3]||(e[3]=p(t=>r.value="",["prevent"]))},[...e[5]||(e[5]=[l("i",{class:"fa-solid fa-xmark text-gray-400"},null,-1)])])):_("",!0)],512)]),(n(!0),a(h,null,T(S.value,t=>(n(),a("section",{class:"cursor-pointer md:min-w-5xl md:mx-auto min-h-80 bg-white rounded-xl shadow-md overflow-hidden flex",key:t.id,onClick:i=>$(t.id)},[e[6]||(e[6]=l("img",{src:"https://via.placeholder.com/150",alt:"Card Image",class:"w-1/2 object-cover"},null,-1)),l("div",Y,[l("h2",Z,g(t.title),1),l("p",ee,g(t.summary),1)])],8,X))),128))]),D(U)],64))}};export{ae as default};
